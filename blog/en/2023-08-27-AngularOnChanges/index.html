<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Scully 0.0.0"><style>
    .utterances {
      position: relative;
      box-sizing: border-box;
      width: 100%;
      max-width: 760px;
      margin-left: auto;
      margin-right: auto;
    }
    .utterances-frame {
      color-scheme: light;
      position: absolute;
      left: 0;
      right: 0;
      width: 1px;
      min-width: 100%;
      max-width: 100%;
      height: 100%;
      border: 0;
    }
  </style>
    <!-- Meta -->
    <meta charset="utf-8">
    <title>Angular Detects if DOM Render is Complete - Thomas Blog</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Thomas Chang">
    <link rel="shortcut icon" href="favicon.ico">
    <base href="/">

    <!-- Theme CSS -->
    <link rel="stylesheet" href="https://unpkg.com/bulma@1.0.0/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <script src="https://pagead2.googlesyndication.com/pagead/managed/js/adsense/m202508210101/show_ads_impl.js?bust=31094264"></script><script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <!-- Google tag (gtag.js) -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-704JZ9KNS1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-704JZ9KNS1');
    </script>
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1636928419295654" crossorigin="anonymous" data-checked-head="true"></script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Nunito&display=swap');
      body {
        font-family: 'Nunito', sans-serif;
      }
      nav.navbar {
        height: 6rem !important;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
      }
      ::-webkit-scrollbar {
        height: 10px;
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: #efefef;
        border-radius: 6px;
      }
      ::-webkit-scrollbar-thumb {
        background: #d5d5d5;
        border-radius: 6px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #c4c4c4;
      }
    </style>
  <link rel="stylesheet" href="styles.42d886cd97eb7005.css" media="all" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles.42d886cd97eb7005.css"></noscript><style></style><meta name="keywords" content="Angular Detects if DOM Render is Complete "><meta name="description" content="Angular Detects if DOM Render is Complete Use the two lifecycles of `ngOnChanges` and `ngAfterViewChecked` to determine whether the DOM Render is complete"><meta name="og:title" content="Angular Detects if DOM Render is Complete - Thomas Blog"><meta name="twitter:title" content="Angular Detects if DOM Render is Complete - Thomas Blog"><meta name="og:site_name" content="Angular Detects if DOM Render is Complete - Thomas Blog"><meta name="og:locale" content="zh-tw"><meta name="og:type" content="website"><meta name="og:description" content="Angular Detects if DOM Render is Complete Use the two lifecycles of `ngOnChanges` and `ngAfterViewChecked` to determine whether the DOM Render is complete"><meta name="twitter:description" content="Angular Detects if DOM Render is Complete Use the two lifecycles of `ngOnChanges` and `ngAfterViewChecked` to determine whether the DOM Render is complete"><meta name="og:url" content="http://localhost:1864/blog/en/2023-08-27-AngularOnChanges"><meta name="twitter:url" content="http://localhost:1864/blog/en/2023-08-27-AngularOnChanges"><meta http-equiv="origin-trial" content="AlK2UR5SkAlj8jjdEc9p3F3xuFYlF6LYjAML3EOqw1g26eCwWPjdmecULvBH5MVPoqKYrOfPhYVL71xAXI1IBQoAAAB8eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="><meta http-equiv="origin-trial" content="Amm8/NmvvQfhwCib6I7ZsmUxiSCfOxWxHayJwyU1r3gRIItzr7bNQid6O8ZYaE1GSQTa69WwhPC9flq/oYkRBwsAAACCeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="><meta http-equiv="origin-trial" content="A9nrunKdU5m96PSN1XsSGr3qOP0lvPFUB2AiAylCDlN5DTl17uDFkpQuHj1AFtgWLxpLaiBZuhrtb2WOu7ofHwEAAACKeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A93bovR+QVXNx2/38qDbmeYYf1wdte9EO37K9eMq3r+541qo0byhYU899BhPB7Cv9QqD7wIbR1B6OAc9kEfYCA4AAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A1S5fojrAunSDrFbD8OfGmFHdRFZymSM/1ss3G+NEttCLfHkXvlcF6LGLH8Mo5PakLO1sCASXU1/gQf6XGuTBgwAAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><style>[_ngcontent-quu-c15]::slotted(h1){color:#330625;background-color:#f8d3ec;padding:5px;border-radius:5px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}</style><style>
      :host {
        display: none;
      }
      scully-content {
        display: none;
      }
    </style><script>window['ScullyIO']='generated';</script></head>
  <body scully-version="0.0.0">
    <app-root _nghost-quu-c13="" ng-version="13.1.1"><div _ngcontent-quu-c13=""><app-blog-nav _ngcontent-quu-c13="" _nghost-quu-c11=""><nav _ngcontent-quu-c11="" class="navbar"><div _ngcontent-quu-c11="" class="container"><div _ngcontent-quu-c11="" class="navbar-brand"><a _ngcontent-quu-c11="" class="navbar-item" href="/"> Thomas Blog </a><span _ngcontent-quu-c11="" data-target="navbarMenu" class="navbar-burger burger"><span _ngcontent-quu-c11=""></span><span _ngcontent-quu-c11=""></span><span _ngcontent-quu-c11=""></span></span></div><div _ngcontent-quu-c11="" id="navbarMenu" class="navbar-menu"><div _ngcontent-quu-c11="" class="navbar-end"><div _ngcontent-quu-c11="" class="navbar-item"><div _ngcontent-quu-c11="" id="docsearch" class="control has-icons-left"><button type="button" aria-label="Search (Ctrl+K)" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true" class="DocSearch-Search-Icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><a _ngcontent-quu-c11="" class="navbar-item is-size-5 has-text-weight-semibold" href="/"> Blog </a><a _ngcontent-quu-c11="" class="navbar-item is-size-5 has-text-weight-semibold" href="/en"> English </a><a _ngcontent-quu-c11="" href="https://thomascsd.github.io/repos/" target="_blank" class="navbar-item is-size-5 has-text-weight-semibold"> Repos </a><a _ngcontent-quu-c11="" class="navbar-item is-size-5 has-text-weight-semibold" href="/about"> About </a></div></div></div></nav></app-blog-nav><router-outlet _ngcontent-quu-c13=""></router-outlet><app-blog _nghost-quu-c15=""><section _ngcontent-quu-c15="" class="hero">
  <div _ngcontent-quu-c15="" class="hero-body">
    <div _ngcontent-quu-c15="" class="container">
      <app-post-header _ngcontent-quu-c15="" _nghost-quu-c14=""><div _ngcontent-quu-c14="" class="columns"><div _ngcontent-quu-c14="" class="column is-8 is-offset-2"><figure _ngcontent-quu-c14="" class="image is-16by9"><img _ngcontent-quu-c14="" alt="blog image" src="assets/images/28/28-0.jpg"></figure></div></div></app-post-header><!---->

      <section _ngcontent-quu-c15="" class="section">
        <div _ngcontent-quu-c15="" class="columns">
          <div _ngcontent-quu-c15="" class="column is-8 is-offset-2">
            <div _ngcontent-quu-c15="" class="content is-medium">
              <h2 _ngcontent-quu-c15="" class="subtitle is-4">2023-08-27</h2>
              

              <h1 _ngcontent-quu-c15="" class="title">Angular Detects if DOM Render is Complete</h1>
              <p _ngcontent-quu-c15="">
                <!--scullyContent-begin--><p _ngcontent-quu-c15="">Recently, I encountered a requirement to determine whether the scroll bar of the page has reached the bottom, but a different point is that the content will be dynamically loaded after the Dialog is opened, and then it will be judged whether the scroll bar has reached the bottom, that is, it is necessary to determine whether the DOM has been loaded. But I encountered a difficult problem. Angular does not have a <code _ngcontent-quu-c15="">$trick</code> method like Vue.js, which can know that the Dom render has been completed. When I checked StackOverFlow, it was recommended to use <code _ngcontent-quu-c15="">ngAfterViewChecked</code>, but after testing, I feel that it is better to use <code _ngcontent-quu-c15="">ngOnChanges</code> and <code _ngcontent-quu-c15="">ngAfterViewChecked</code> at the same time. Let me share my approach.</p>
<iframe width="100%" height="450" frameborder="0" src="https://stackblitz.com/edit/stackblitz-starters-l96j3d?embed=1&amp;file=src%2Fchildren%2Fchildren.component.ts" _ngcontent-quu-c15=""></iframe>

<p _ngcontent-quu-c15="">As in the code example, the <code _ngcontent-quu-c15="">content</code> attribute of the Component (app-childred) will get the content to be displayed only when the button is clicked in <code _ngcontent-quu-c15="">main.ts</code>. At this time, <code _ngcontent-quu-c15="">ngAfterViewInit</code> has been executed, and the content of the div has not yet been intercepted, so the height of the div is zero, that is, <code _ngcontent-quu-c15="">scrollHeightInit</code> is zero.</p>
<p _ngcontent-quu-c15="">The code is written as follows:</p>
<ul _ngcontent-quu-c15="">
<li _ngcontent-quu-c15=""><p _ngcontent-quu-c15="">In <code _ngcontent-quu-c15="">ngOnChanges</code>, determine whether the value of the attribute <code _ngcontent-quu-c15="">content</code> has changed. If it has changed, set <code _ngcontent-quu-c15="">Flag</code> to <code _ngcontent-quu-c15="">true</code>.</p>
</li>
<li _ngcontent-quu-c15=""><p _ngcontent-quu-c15="">Because <code _ngcontent-quu-c15="">ngAfterViewChecked</code> is executed every time Change Detection is performed, at this life cycle, it means that the Dom render has been completed, that is, the content of the div has been loaded, and thus the height of the div can be obtained.</p>
</li>
<li _ngcontent-quu-c15=""><p _ngcontent-quu-c15="">After obtaining the height of the div, perform subsequent processing to obtain the height of the scroll bar to determine whether the scroll bar is at the bottom.</p>
</li>
</ul>
<h2 id="conclusion" _ngcontent-quu-c15="">Conclusion</h2>
<p _ngcontent-quu-c15="">Using the two lifecycles of <code _ngcontent-quu-c15="">ngOnChanges</code> and <code _ngcontent-quu-c15="">ngAfterViewChecked</code> to judge, I feel very good after testing, which meets the current needs. If you think there is room for adjustment, you can raise it.</p>
<!--scullyContent-end--><scully-content _ngcontent-quu-c15=""></scully-content>
              <script>try {window['scullyContent'] = {cssId:"_ngcontent-quu-c15",html:document.body.innerHTML.split('<!--scullyContent-begin-->')[1].split('<!--scullyContent-end-->')[0]};} catch(e) {console.error('scully could not parse content');}</script></p>
            </div>
          </div>
        </div>
      </section>

      <div _ngcontent-quu-c15="" class="is-divider"></div>
      <section _ngcontent-quu-c15="" class="section">
        <div _ngcontent-quu-c15="" id="comments"><div class="utterances">
    <iframe class="utterances-frame" title="Comments" scrolling="no" src="https://utteranc.es/utterances.html?_ngcontent-quu-c15=&amp;type=text%2Fjavascript&amp;src=https%3A%2F%2Futteranc.es%2Fclient.js&amp;repo=thomascsd%2Fthomascsd.github.io&amp;issue-term=pathname&amp;theme=github-light&amp;crossorigin=anonymous&amp;url=http%3A%2F%2Flocalhost%3A1864%2Fblog%2Fen%2F2023-08-27-AngularOnChanges&amp;origin=http%3A%2F%2Flocalhost%3A1864&amp;pathname=blog%2Fen%2F2023-08-27-AngularOnChanges&amp;title=Angular+Detects+if+DOM+Render+is+Complete+-+Thomas+Blog&amp;description=Angular+Detects+if+DOM+Render+is+Complete+Use+the+two+lifecycles+of+%60ngOnChanges%60+and+%60ngAfterViewChecked%60+to+determine+whether+the+DOM+Render+is+complete&amp;og%3Atitle=Angular+Detects+if+DOM+Render+is+Complete+-+Thomas+Blog&amp;session=" loading="lazy"></iframe>
  </div></div>
      </section>
    </div>
  </div>
</section>
</app-blog><!----><hr _ngcontent-quu-c13=""><app-footer _ngcontent-quu-c13="" _nghost-quu-c12=""><footer _ngcontent-quu-c12="" class="footer"><div _ngcontent-quu-c12="" class="content has-text-centered"><div _ngcontent-quu-c12="" class="columns"><div _ngcontent-quu-c12="" class="column"></div><div _ngcontent-quu-c12="" class="column"><a _ngcontent-quu-c12="" href="https://www.twitter.com/thomascsd" target="_blank" class="block"><span _ngcontent-quu-c12="" class="fa-stack fa-lg"><i _ngcontent-quu-c12="" class="fa fa-circle fa-stack-2x"></i><i _ngcontent-quu-c12="" class="fa fa-twitter fa-stack-1x fa-inverse"></i></span></a><a _ngcontent-quu-c12="" href="https://github.com/thomascsd" target="_blank" class="block"><span _ngcontent-quu-c12="" class="fa-stack fa-lg"><i _ngcontent-quu-c12="" class="fa fa-circle fa-stack-2x"></i><i _ngcontent-quu-c12="" class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></div><div _ngcontent-quu-c12="" class="column"></div></div><div _ngcontent-quu-c12="" class="columns"><div _ngcontent-quu-c12="" class="column is-2"></div><div _ngcontent-quu-c12="" class="column is-8"><strong _ngcontent-quu-c12="">Bulma - Blog theme</strong> . Based on the <a _ngcontent-quu-c12="" href="http://jigsaw-blog-staging.tighten.co/">jigsaw-blog</a>. </div><div _ngcontent-quu-c12="" class="column is-2"></div></div></div></footer></app-footer></div></app-root>
  <script id="ScullyIO-transfer-state"></script><script src="runtime.d72ac3ba258b1102.js" type="module"></script><script src="polyfills.683fd6a0711b2044.js" type="module"></script><script src="main.67f5d82c36c4be09.js" type="module"></script>

<ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: none !important;"><div id="aswift_0_host" style="border: none; height: 0px; width: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-block;"><iframe id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0;width:undefinedpx;height:undefinedpx;min-height:auto;max-height:none;min-width:auto;max-width:none;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-1636928419295654&amp;output=html&amp;adk=1812271804&amp;adf=3025194257&amp;lmt=1756023589&amp;plat=1%3A8%2C2%3A8%2C3%3A2162688%2C4%3A2162688%2C9%3A32776%2C16%3A8388608%2C17%3A32%2C24%3A32%2C25%3A32%2C30%3A1048576%2C32%3A32%2C41%3A32%2C42%3A32&amp;format=0x0&amp;url=http%3A%2F%2Flocalhost%3A1864%2Fblog%2Fen%2F2023-08-27-AngularOnChanges&amp;pra=5&amp;wgl=1&amp;aihb=0&amp;asro=0&amp;aifxl=29_18~30_19&amp;aiapm=0.1542&amp;aiapmd=0.25178&amp;aiapmi=0.16&amp;aiapmid=1&amp;aiact=0.5423&amp;aiactd=0.7&amp;aicct=0.7&amp;aicctd=0.5799&amp;ailct=0.5849&amp;ailctd=0.65&amp;aimart=4&amp;aimartd=4&amp;uach=WyIiLCIiLCIiLCIiLCIiLG51bGwsMCxudWxsLCIiLG51bGwsMF0.&amp;abgtt=6&amp;dt=1756023598533&amp;bpp=4&amp;bdt=1037&amp;idt=234&amp;shv=r20250820&amp;mjsv=m202508210101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie_enabled=1&amp;eoidce=1&amp;nras=1&amp;correlator=8033375853907&amp;frm=20&amp;pv=2&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=-12245933&amp;ady=-12245933&amp;biw=800&amp;bih=600&amp;scr_x=0&amp;scr_y=0&amp;eid=31094074%2C31094243%2C95362656%2C95368764%2C95369196%2C95369706%2C31094264%2C95352051%2C95359265&amp;oid=2&amp;pvsid=7683083004316710&amp;tmod=148016068&amp;uas=0&amp;nvt=1&amp;fsapi=1&amp;fc=1920&amp;brdim=0%2C0%2C0%2C0%2C800%2C0%2C800%2C600%2C800%2C600&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=32768&amp;bc=31&amp;bz=1&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;ifi=1&amp;uci=a!1&amp;fsb=1&amp;dtd=275" data-google-container-id="a!1" tabindex="0" title="Advertisement" aria-label="Advertisement" data-load-complete="true"></iframe></div></ins><script type="text/javascript" src="https://ep2.adtrafficquality.google/sodar/sodar2.js"></script><iframe id="google_esf" name="google_esf" src="https://googleads.g.doubleclick.net/pagead/html/r20250820/r20190131/zrt_lookup.html" style="display: none;"></iframe></body></html>